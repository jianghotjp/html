(function(){function require(e){return modules[e]}function define(){var e=arguments[arguments.length-1];if("function"!=typeof e)return void modules.push(e);var r={exports:{}};r.exports=e(require,r.exports,r)||r.exports,modules.push(r.exports)}var modules=[];define.amd=define.cmd=!0;
!function(){define(function(e,a,i){var t=navigator.userAgent,n={name:"browser",nativeShare:!1};if(/micromessenger/i.test(t))n={name:"weixin",nativeShare:!1};else if(/baiduboxapp/i.test(t))n={name:"baidu",nativeShare:!0};else if(/tieba/i.test(t)){n={name:"tieba",nativeShare:!1};var r=t.indexOf("tieba")+6;t.substr(r)>="7.2.0"&&(n.nativeShare=!0)}var s=/windows|macintosh/g.test(t.toLowerCase());i.exports={env:n,os:{phone:!s,pc:s}}})}();
!function(){define(function(e,a,i){var t=navigator.userAgent,n={name:"browser",nativeShare:!1};if(/micromessenger/i.test(t))n={name:"weixin",nativeShare:!1};else if(/baiduboxapp/i.test(t))n={name:"baidu",nativeShare:!0};else if(/tieba/i.test(t)){n={name:"tieba",nativeShare:!1};var r=t.indexOf("tieba")+6;t.substr(r)>="7.2.0"&&(n.nativeShare=!0)}var s=/windows|macintosh/g.test(t.toLowerCase());i.exports={env:n,os:{phone:!s,pc:s}}})}();
!function(){define(function(e,i,n){function t(){function i(e){for(var i={},n=new RegExp("([\\?|&])(.+?)=([^&?]*)","ig"),t=n.exec(e);t;)i[t[2]]=t[3],t=n.exec(e);return i}function n(){var e=$(document).height()/850;1>e&&v.css("transform","scale("+e+")")}function t(e){for(var i="",n=0,t=e.length;t>n;n++){var a=e[n],o=a.active||"";i+='<div class="item '+a.phone+" "+a.app+" "+o+'" data-height="'+a.height+'"><div class="phone-type"><span class="apple"></span>'+a.name+'</div><div class="phone-app"><span class="app"></span></div></div>'}return i}var a=i(location.search),o=document.title||"",d="",c=$("#description").attr("content")||"";$("html").addClass("pc");var s=$('<div class="phone"></div>').append($(".lg-container")),p=0==window.location.pathname.indexOf("/preview")?"\uff0c\u6709\u6548\u671f50\u5206\u949f":"",r=$('<div class="right"><div class="qrcode-container"><div class="qrcode"></div></div><div class="text">\u624b\u673a\u626b\u4e00\u626b'+p+'</div><div class="text title">'+o+'</div><div class="text creater">'+d+'</div><div class="text desc">'+c+"</div></div>"),v=$('<div class="mid-content"></div>').append(s).append(r);n(),window.onresize=n,$("body").append(v),$(".mid-content").append($('<div class="arrow"><div class="up"></div><div class="down"></div></div>'));var l=e("1");!l.os.phone&&/\/preview/.test(location.pathname)&&($(".mid-content").append($('<div class="phone-size">'+t([{phone:"p5",app:"weixin",height:630,name:"5"},{phone:"p6",app:"weixin",height:644,name:"6"},{phone:"p6p",app:"weixin",height:650,name:"6+",active:"active"}])+"</div>")),$(".mid-content").on("click",".phone-size .item",function(e){$(".mid-content .phone")[0].style.height=$(this).data("height")+"px",$(".phone-size .item").removeClass("active"),$(this).addClass("active"),window.legend._stage.centralizeComponent()}));var h=a.scene;if(["preview","store"].indexOf(h)>=0){var w=$('<div class="action-btn"><div>');["store"].indexOf(h)>=0&&w.html("\u4f7f\u7528\u6a21\u677f").addClass("use-template"),["preview"].indexOf(h)>=0&&w.html("\u65b0\u7a97\u53e3\u6253\u5f00").addClass("open-new-window"),$(".mid-content .right").append(w)}var m=window.location.href.replace("scene=preview","");a&&a.ip&&(m=m.replace(window.location.host,a.ip).replace("&ip="+a.ip,"")),$("body").on("click",".arrow .up",function(){window.postMessage("pageUp","*")}).on("click",".arrow .down",function(){window.postMessage("pageDown","*")}).on("click",".open-new-window",function(){window.open(m,"_blank")});var m;window.location.href.indexOf("scene=preview")<0&&(m=window.location.href),setTimeout(function(){new QRCode($(".qrcode")[0],{width:320,height:320}).makeCode(m)},100)}document.write('<script src="http://tb1.bdstatic.com/legend/517b55d3688ce9ef1085a3d9632bcb97_qrcode.js"></'+"_".replace("_","")+"script>"),n.exports={pc:{init:t}}})}();
!function(){define(function(n,t,u){var e=[];u.exports={getAll:function(){return e},add:function(n){e.push(n)}}})}();
!function(){define(function(r,o,e){"use strict";function d(){return function(r,o){if(!r)return{};var e={width:(r.width||1)+"px",height:(r.height||1)+"px"},d="",t=0,a=0;return r.border&&"none"!==r.border&&(t=a=-r.borderSize,e.borderWidth=r.borderSize+"px"),"dx"in r&&(t+=r.dx,a+=r.dy),(t||a)&&(d+=" translate3d("+t+"px, "+a+"px, 0)"),r.rotate&&(d+="rotate("+r.rotate+"deg)"),e.webkitTransform=e.transform=d,"simple"===o?e:(r.opacity<1&&(e.opacity=r.opacity),r.background&&(e.background=r.background),"ellipse"===r.shape?e.borderRadius="50%":"rect"==r.shape&&r.borderRadius&&(e.borderRadius=r.borderRadius+"px"),"none"!==r.border&&(e.borderStyle=r.border,e.borderWidth=r.borderSize+"px",e.borderColor=r.borderColor),"true"===r.shadow&&(e.boxShadow=[r.shadowOffsetX+"px",r.shadowOffsetY+"px",r.shadowBlur+"px",r.shadowSpread+"px",r.shadowColor].join(" ")),e)}}return e.exports=d()})}();
!function(){define(function(t,e,r){"use strict";function n(){var t=325;return function(e,r,n){if(!e)return{};n=n||t;var i={left:e.x+"px",width:e.width+"px",height:e.height+"px"};switch(e.coordinate){case"bottom":i.bottom=-e.height-e.y+"px";break;case"central":i.top=e.y+n+"px";break;default:i.top=e.y+"px"}return i}}return r.exports=n()})}();
!function(){define(function(e,i){function n(e){for(var i in o)"undefined"==typeof e[i]&&(e[i]=o[i])}function t(e,i,t,o){var d=window.legend.components[i.type];if(d){var l=i.surface||{};n(l);var s=document.createElement("div");s.className="lg-trailer";var c=document.createElement("div");c.className="lg-surface lg-surface-"+i.type,s.appendChild(c),e.appendChild(s);var v=a(l);for(var f in v)c.style[f]=v[f];var h=r(l,"none");for(var f in h)s.style[f]=h[f];l.gravity&&l.gravity>0&&(c.classList.add("layer"),c.setAttribute("data-depth",l.gravity)),"hideInWeixin"===l.visibility?i.hidden="weixin"==window.legend.env.name:l.visibility&&"visible"!==l.visibility&&("isNative"===l.visibility&&window.legend.env.nativeShare||"notNative"===l.visibility&&!window.legend.env.nativeShare?i.hidden=!1:i.hidden=!0),i.hidden&&(s.style.display="none");var p={data:i,base:t,trailerElement:s,surfaceElement:c,show:function(){p.trailerElement.style.display=""},hide:function(){p.trailerElement.style.display="none"}};p.instance=d.create(c,i.attributes,l.width,l.height,t);var u=p.instance["interface"];if(u&&u.forEach(function(e){p[e.id]=e.act}),o&&o(p),"panel"===i.type&&i.attributes){var y=c.querySelector(".lg-component-panel"),b=[];(i.attributes.components||[]).forEach(function(e){window.legend.createComponent(y,e,t,o)}),p.components=b}return p}}var a=e("4"),r=e("5"),o={coordinate:"top",rotate:0,opacity:1,gravity:0,link:"",changeDuration:.5,visibility:"visible",shape:"rect",background:"",borderRadius:0,border:"none",borderSize:1,borderColor:"black",fill:"transparent",shadow:"false",shadowOffsetX:5,shadowOffsetY:5,shadowBlur:0,shadowSpread:0,shadowColor:"black"};i.createComponent=t})}();
!function(){define(function(n,i,a){function t(n){if(n.data.animations instanceof Array){n.animationIndex=n.animationIndex||0;var i=n.data.animations[n.animationIndex],a=n.trailerElement;i&&a&&"none"!==i.name&&($(a).unbind(),a.style["-webkit-animation-duration"]=a.style["animation-duration"]=(i.duration||1)+"s",a.style["-webkit-animation-delay"]=a.style["animation-delay"]=(i.delay||0)+.1+"s",a.style["-webkit-animation-iteration-count"]=a.style["animation-iteration-count"]=i.repeat||1,a.style["-webkit-animation-direction"]=a.style["animation-direction"]=i.direction||"normal",n.data.animations.forEach(function(n){a.classList.remove(n.name)}),a.classList.add("animated"),a.classList.add(i.name),a.style["-webkit-animation-fill-mode"]=a.style["animation-fill-mode"]="both",$(a).one("webkitAnimationEnd animationend",function(){n.animationIndex+1<n.data.animations.length&&(n.animationIndex++,t(n))}))}}a.exports={render:t}})}();
!function(){define(function(n,e,t){function a(){0>c||r.getAll().forEach(function(n){n.instance.pageChange&&n.instance.pageChange(c,i),(n.base.stageIndex<0||n.base.stageIndex===c)&&n.instance.start&&!n.instance.$started&&(n.instance.start(),n.instance.$started=!0),n.base.stageIndex===c&&n.animationIndex&&(n.animationIndex=0,d.render(n))})}function s(n){c=n,a()}var i,c=0,r=n("3"),d=n("7");t.exports={enter:s}})}();
!function(){define(function(e,a,n){function t(a){var n=a.data,t=a.container,r=a.stageIndex,o=a.enterIndex;window.legend.createComponent=e("6").createComponent;var i=[n.landingPage,n.backStage,n.frontStage][r+3]||n.pages[r],d=i.attributes||{},c=t.querySelector(".lg-backface");d.background&&(c.style.background=d.background),c.style.opacity=Math.min(d.backgroundOpacity||0,1);var s=e("7"),l=n.pages.length,g=i.components||[];g.forEach(function(e,a){window.legend.createComponent(t,e,{pageIndex:o||r,pageCount:l,stage:r,stageType:["back","front"][r+2]||"page",stageIndex:r},function(e){s.render(e),u.add(e)})})}function r(e){var a=document.querySelector(".lg-back-stage"),n=document.querySelector(".lg-front-stage");e.backStage&&t({data:e,container:a,stageIndex:-2}),e.frontStage&&t({data:e,container:n,stageIndex:-1})}function o(a){function n(e){if(!f){var n=!1,t=a.pages[e].components;if(!t||0===t.length)return;for(var r=0;r<t.length;r++)if(t[r].surface.gravity){n=!0;break}n&&window.Parallax&&(new Parallax(document.querySelector(".lg-container")),f=!0)}}function r(e,n){var t=a.pages[e];t.attributes&&t.attributes.swipeForbidden&&n.hold()}function o(e){var n=a.pages[e];n.attributes&&n.attributes.usePageShare&&(window.shareData.title=n.attributes.shareTitle,window.shareData.desc=n.attributes.shareDescription,window.shareData.imgUrl=n.attributes.shareIcon||window.defaultShareData.imgUrl,window.shareData.link=n.attributes.shareLink||window.defaultShareData.link)}var i=[],d=a.pages.map(function(e){return'<div class="lg-page"><div class="lg-backface"></div></div>'}),c=document.createElement("div");d.forEach(function(e,n){c.innerHTML=e;var r=c.children[0];t({data:a,container:r,stageIndex:n}),i.push({content:r})});var s=a.attributes,l=e("8"),g=500;"swiperDuration"in s&&(g=1e3*s.swiperDuration);var u=0;0==window.location.pathname.indexOf("/preview")&&String(location.hash).replace(/\bpage=(\d+)/,function(e,a){u=+a});var f=!1,p=new iSlider({dom:document.querySelector(".lg-page-container"),isVertical:"horizontal"!==s.swiperDirection,data:i,animateType:s.swiperEffect,animateTime:g,initIndex:u,fixPage:[".keep-default"],plugins:[["BIZone",{size:[70,0,0]}]],onslidechanged:function(e){l.enter(e,p,a),o(e)},onslidechange:function(e){r(e,this),n(e)}});n(0),o(0),r(0,p),l.enter(u),window.legend.slider=p}function i(){container=document.querySelector(".lg-container"),g=u.getAll(),window.addEventListener("resize",function(){d()},!1),d()}function d(){var e=container.clientHeight/2;g.forEach(function(a){if("central"===a.data.surface.coordinate){var n=f(a.data.surface,"none",e);for(var t in n)a.trailerElement.style[t]=n[t]}})}function c(e){var a=document.querySelector(".lg-landing-page");e.landingPage||(e.landingPage={}),e.landingPage.components&&e.landingPage.components.length||(e.landingPage.components=[{type:"image",surface:{x:174,y:273,width:52,height:52,borderSize:1,borderColor:"black",fill:"transparent",coordinate:"top",rotate:0,opacity:1,gravity:0,link:"",changeDuration:.5,shareAction:"none",shape:"rect",background:"",borderRadius:0,border:"none",shadow:"false",shadowOffsetX:5,shadowOffsetY:5,shadowBlur:0,shadowSpread:0,shadowColor:"black"},attributes:{src:"http://hiphotos.baidu.com/doc/pic/item/4b90f603738da977f3538507b751f8198618e39a.jpg",size:0,filename:"",touchevent:"false",playAudio:"false",audio:"http://wenku.baidu.com/bookeditor/interface/thirdgetaudio?token=ab6451233c78be7912705baf651a333b",translateX:0,translateY:0,scale:1},animations:[{name:"exClockwise",repeat:"infinite"}],events:[]},{type:"loadingprogress",surface:{x:177,y:358,width:45,height:25,borderSize:1,borderColor:"black",fill:"transparent",coordinate:"top",rotate:0,opacity:1,gravity:0,link:"",changeDuration:.5,shareAction:"none",shape:"rect",background:"",borderRadius:0,border:"none",shadow:"false",shadowOffsetX:5,shadowOffsetY:5,shadowBlur:0,shadowSpread:0,shadowColor:"black"},attributes:{fontSize:15,color:"#000"},events:[]}]),e.landingPage&&t({data:e,container:a,stageIndex:-3});var n=document.querySelector("body .lg-container");n.classList.add("ready")}function s(){var e=document.querySelector(".lg-landing-page");e.parentNode.removeChild(e)}function l(e){r(e),o(e),i()}var g,u=e("3"),f=e("5");n.exports={build:l,buildLanding:c,destroyLanding:s,centralizeComponent:d}})}();
!function(){define(function(t,o,i){function s(t,o){if(t&&(o=o||"info",/^(success|info|error|warning)$/.test(o))){n||(n=$('<div id="toast-container" class="toast-top-center"></div>').appendTo("body"));var i=$('<div class="toast toast-'+o+'" style="display: block;"><div class="toast-'+o+'">'+t+"</div></div>").appendTo(n);setTimeout(function(){i.remove()},3e3)}}var n;i.exports=s})}();
!function(){define(function(e,n,t){function i(){var e,n=[],t=u.getAll();if(t.forEach(function(t){if(!e&&t.instance.getValue){var i=t.instance.getValue();if("true"===t.data.attributes.required&&!i)return void(e=t);n.push({title:t.data.attributes.name,value:i})}}),e){a&&clearTimeout(a);var i=e.surfaceElement.style;return i["-webkit-animation-duration"]=i["animation-duration"]="0.5s",i["-webkit-animation-name"]=i["animation-name"]="shake",a=setTimeout(function(){a=null,i["-webkit-animation-duration"]=i["animation-duration"]="",i["-webkit-animation-name"]=i["animation-name"]=""},510),void o("\u5b58\u5728\u5fc5\u586b\u9879.","error")}if(n.length<=0)return void o("\u6ca1\u6709\u5185\u5bb9.","error");var d=localStorage.legendUser;(!d||d.length>30)&&(d=localStorage.legendUser=Number(new Date).toString(36)+Math.random().toString(36).slice(3,7));var n=JSON.stringify(n);return r===n?void o("\u5df2\u7ecf\u63d0\u4ea4.","info"):void $.ajax({type:"POST",url:"http://shushuo.baidu.com/legend/form/add.php",data:{legendId:legend.id,fields:n,page:legend.slider.slideIndex,user:d},success:function(){r=n,o("\u63d0\u4ea4\u6210\u529f.","success")},error:function(){o("\u63d0\u4ea4\u5931\u8d25.","error")}})}var a,r,o=e("10"),u=e("3");t.exports={submit:i}})}();
!function(){define(function(n,e,t){function o(){function e(n){var e=$(n).parents(".lg-surface-panel"),t=e.length;return t>0&&(n=$(e[t-1]).parent()[0]),n}function t(n,t){for(var a;n&&n.getAttribute;){if(n.classList.contains("lg-trailer")){n=e(n),p.every(function(e){return e.trailerElement===n?(a=e,!1):!0}),a&&o(a.data.events,t);break}n=n.parentNode}}function o(n,e){n.forEach(function(n){n.type===e&&("control"===n.actionType?a(n):"link"===n.actionType&&r(n))})}function a(n){var e=window.legend.getComponentsByName(n.control.target);e.forEach(function(e){e[n.control.action]&&e[n.control.action]()})}function r(n){switch(n.link.prefix){case"http://":case"https://":case"mailto:":case"tel://":window.legend.ua.os.phone?window.location=n.link.prefix+n.link.url:window.open(n.link.prefix+n.link.url,"_blank");break;case"#page":window.legend.gotoPage(i(n.link.url)-1);break;case"@submit":h.submit();break;case"@share":window.legend.share()}}function i(n){if(!n)return-1;if(/^\d+$/.test(n))return parseInt(n,10);for(var e=n.replace(/\s|[^,\-\d]/g,"").split(","),t=[],o=0;o<e.length;o++){var a=e[o];if(a)if(/^\d+$/.test(a))t.push(parseInt(a,10));else{var r=a.split("-");if(r.length<2)continue;var i=parseInt(r[0],10),s=parseInt(r[1],10);if(!i||!s||i>s)continue;for(var c=i;s>=c;)t.push(c),c++}}var l=Math.floor(Math.random()*t.length);return t[l]}function s(){var n=legend.slider.slideIndex,e=f[n].events;o(e,"shake")}var c,l,u,f=legend.getData().pages,d=n("3"),p=d.getAll(),h=n("11");window.legend.ua.os.phone?(c="tap",l="touchstart",u="touchend"):(c="click",l="mousedown",u="mouseup");var g;if($("body").on(c,function(n){t(n.target,"tap")}).on(l,function(n){g=n.target,t(g,"touchdown")}).on(u,function(n){t(g,"touchup")}),window.Shake){var w=new Shake({threshold:15});w.start(),window.addEventListener("shake",s,!1)}}t.exports={init:o}})}();
!function(){define(function(e,a,i){function o(){var e=window.TiebaJsBridge;return e&&"complete"===e.readyState}function n(){if(o()){var e={title:window.shareData.title,desc:window.shareData.desc,img:window.shareData.imgUrl,url:window.shareData.link};TiebaJsBridge.shareCmd.shareByHybrid(e)}}function t(){if(window.Box){var e=window.baiduShareData;e.mediaType="all",Box.os.android?Box.android.invokeApp("Bdbox_android_utils","callShare",[JSON.stringify(e),"console.log","console.log"]):Box.ios.invokeApp("callShare",{options:encodeURIComponent(JSON.stringify(e)),errorcallback:"console.log",successcallback:"console.log"})}}function d(){var e=legend.ua.env;if(e.nativeShare)r[e.name]();else{var a=$("#default-share");a&&0!=a.length||(a=$('<div id="default-share"><div>').css({position:"absolute",width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5) url(http://fex.bdstatic.com/h5static/h5jscss/e988ceb436c96d014e3caee558938493_aaa.png) no-repeat 90% 3%","background-size":"80px",left:0,top:0,display:"none","z-index":10}).appendTo($(".lg-container")).on("tap click",function(){a.hide()})),a.show()}}var r={baidu:t,tieba:n};i.exports=d})}();
!function(){define(function(e,n,i){function t(){var e=window.legend.slider.slideIndex,n=window.legend.getData(),i=n.pages[e].attributes;return i&&i.swipeForbidden}function a(e){if(!t()){var n="next"===e?"slideNext":"slidePrev";window.legend.slider[n]()}}var d=e("3"),o=function(e){var n=[];return d.getAll().forEach(function(i){(i.data.name===e||e instanceof RegExp&&e.test(i.data.name)||e instanceof Array&&e.indexOf(i.data.name)>=0)&&n.push(i)}),n},r=function(e,n){if(window.legend.slider.slideIndex!==e){if(isNaN(n)){var i=window.legend.getData();n="swiperDuration"in i.attributes?1e3*i.attributes.swiperDuration:500}switch(e){case"next":window.legend.slider.slideNext({animateTime:n});break;case"prev":window.legend.slider.slidePrev({animateTime:n});break;default:window.legend.slider.slideTo(e,{animateTime:n})}}};window.addEventListener("hashchange",function(){String(location.hash).replace(/\bpage=(\d+)/,function(e,n){t()||window.legend.slider.slideTo(+n)})}),window.addEventListener("message",function(e){"pageUp"===e.data?a("prev"):"pageDown"===e.data&&a("next")},!1),window.addEventListener("keydown",function(e){38===e.keyCode||37===e.keyCode?(a("prev"),e.preventDefault()):40!==e.keyCode&&39!==e.keyCode||(a("next"),e.preventDefault())},!1),i.exports=function(n){n.getComponentsByName=o,n.gotoPage=r,n.toast=e("10"),n.share=e("13")}})}();
!function(){define(function(t,e,a){function r(e,a){function r(t,e){t&&t.components&&t.components.forEach(function(t){if("video"===t.type&&t.attributes&&"global"===t.attributes.load&&t.attributes.frames)for(var e=JSON.parse(t.attributes.frames),a=0,r=e.length;r>a;){var i=e[a];l.image[i.src]=l.image[i.src]||0,l.image[i.src]++,a+=1}})}function i(t,e){function a(t){t.forEach(function(t){if(t.attributes.components)return a(t.attributes.components);if("video"===t.type&&t.attributes&&"global"===t.attributes.load&&t.attributes.frames){var e=JSON.parse(t.attributes.frames);t.attributes.blobframes=[];for(var r=0,i=e.length;i>r;){var s=e[r],o=s.src;m.image.push({src:o,obj:s}),t.attributes.blobframes.push(s),s.src=o,r+=1}}})}a(t.components)}function s(t,e){t.components.forEach(function(t){if("image"===t.type&&t.attributes&&"true"===t.attributes.touchevent&&t.attributes.audio){if(!d[t.attributes.audio]){var e=document.createElement("audio");e.src=t.attributes.audio,e.preload="auto",d[t.attributes.audio]=e}t.attributes.audioEl=d[t.attributes.audio]}})}function o(t,e){t&&t.components&&(t.components.forEach(function(t){t.surface&&t.surface.link&&String(t.surface.link).replace(/^#page(\d+)$/,function(t,e){p[e]=!0}),"image"===t.type&&t.attributes&&t.attributes.src&&(l.image[t.attributes.src]=l.image[t.attributes.src]||0,l.image[t.attributes.src]++),"audio"===t.type&&t.attributes&&t.attributes.url&&(l.audio[t.attributes.url]=l.audio[t.attributes.url]||0,l.audio[t.attributes.url]++),"mediastream"===t.type&&t.attributes&&t.attributes.url&&(l.video[t.attributes.url]=l.video[t.attributes.url]||0,l.video[t.attributes.url]++)}),r(t,e),s(t,e))}function n(t,e){t&&t.components&&(t.components.forEach(function(t){if("image"===t.type&&t.attributes&&t.attributes.src){var e=t.attributes.src;m.image.push({src:e,obj:t.attributes}),t.attributes.src=e}"audio"===t.type&&t.attributes&&t.attributes.url&&m.audio.push(t.attributes.url),"mediastream"===t.type&&t.attributes&&t.attributes.url&&m.video.push(t.attributes.url)}),i(t,e))}function u(t){if(t.length&&0!==t.length.length){var e=t.shift(),a=e.src,r=new RegExp("^(/|https?//:"+location.hostname+")"),i=r.test(a);if(i=!1){var s=new XMLHttpRequest;s.open("GET",a,!0),s.responseType="arraybuffer",s.onload=function(a){var r=new Uint8Array(this.response),i=new Blob([r],{type:"image/jpeg"}),s=window.URL||window.webkitURL,o=s.createObjectURL(i);e.obj.src=o,e.src=o;var n=new Image;n.src=o,e.srcimg=n,h++,g(h,y),t.length&&u(t)},s.onerror=function(r){e.obj.src=a,e.src=a;var i=new Image;i.src=a,e.srcimg=i,h++,g(h,y),t.length&&u(t)},s.send()}else{var o=new Image;o.onload=o.onerror=function(){e.obj.src=a,e.src=a,e.obj.srcimg=o,h++,g(h,y),t.length&&u(t)},o.src=a}}}function c(){w||(w=!0,setTimeout(function(){a();var t=document.querySelector("body .lg-container");t.classList.add("ready");var e="http://hiphotos.baidu.com/doc/pic/item/267f9e2f0708283847375243be99a9014c08f1ab.jpg";$("#loading-cover img").attr("src",e),f.onApiReady&&f.onApiReady()}),clearTimeout(c.timer))}function b(){for(var e=t("3").getAll(),a=[],r=0,i=e.length;i>r;r++){var s=e[r];"loadingprogress"===s.data.type&&a.push(s)}return a}function g(t,e){var a=E;if(a&&a.length){t>e&&(t=e);for(var r=parseInt(t/e*100,10),i=0,s=a.length;s>i;i++){var o=a[i];o.instance&&o.instance.progress&&o.instance.progress(r,t,e)}}t>=e&&c(r)}var f=window.legend,m={image:[],video:[],audio:[]},l={image:{},video:{},audio:{}},p={},d={};o(e.backStage),o(e.frontStage),e.pages.map(o),n(e.backStage,-1),n(e.frontStage,-2),e.pages.forEach(function(t,e){n(t,e)});var h=0,v=m.image.length+m.audio.length+m.video.length,y=m.image.length;v?(u(m.image),m.image.shift(),u(m.image),m.image.shift(),u(m.image),y-=3,c.timer=setTimeout(c,5e4)):c();var w=!1,E=b()}a.exports={init:r}})}();
!function(){define(function(n,i,t){var o=n("0");o.os.phone||window.location.href.indexOf("phone=1")>0?document.body.style.height=document.body.clientHeight+"px":n("2").pc.init();var e=window.legend={version:"1.0.0",ua:o,components:{}};e.init=function(i,t){e.init=function(){},e.id=t,e.getData=function(){return i},n("3");var o=e._stage=n("9"),d=n("12"),c=n("14");o.buildLanding(i),n("15").init(i,function(){o.destroyLanding(),o.build(i),d.init(),c(e)})},t.exports=e})}();
!function(){define(function(e,t){function n(e,t,n,r){function a(){s.style.webkitTransform="translate("+t.translateX+"px, "+t.translateY+"px) scale("+t.scale+")","true"==t.playAudio&&t.audio&&t.audioEl&&t.audioEl.play()}function o(){s.style.webkitTransform=u}var s=document.createElement("img");s.classList.add("lg-component-img");var i={},l="ontouchend"in document;if("true"==t.touchevent){var u=s.style.webkitTransform;l?($(s).on("touchstart",a),$(s).on("touchend",o)):($(s).on("mousedown",a),$(s).on("mouseup",o))}var d={name:"\u56fe\u7247",attributeChange:function(e){if(/^(\/image|blob|https?)/.test(e.src)){e=e||{};for(var t in e)i[t]=e[t];var n="src";i.lazy&&(n="data-src",s.classList.add("swiper-lazy")),s.setAttribute(n,e.src),"none"===i.stroke?s.style.borderStyle="none":s.style.borderStyle=i.strokeType,"true"==e.keepDefault&&s.classList.add("keep-default"),s.style.borderRadius=i.cornerRadius+"px",s.style.borderColor=i.stroke,s.style.borderWidth=(i.strokeWidth||0)+"px"}},sizeChange:function(e,t){s.style.width=e+"px",s.style.height=t+"px"}};return d.sizeChange(n,r),d.attributeChange(t),e.appendChild(s),d}t.create=n})}();
require("16").components.image = require("17");
!function(){define(function(t,e){function n(t,e,n,o){var i=document.createElement("div");i.classList.add("lg-component-loading-progress"),i.textContent="0%";var a={name:"\u52a0\u8f7d\u8fdb\u5ea6",attributeChange:function(t){i.style.fontSize=t.fontSize+"px",i.style.color=t.color},progress:function(t,e,n){i.textContent=t+"%"},sizeChange:function(t,e){i.style.width=t+"px",i.style.height=e+"px"}};return a.attributeChange(e),a.sizeChange(n,o),t.appendChild(i),a}e.create=n})}();
require("16").components.loadingprogress = require("18");
!function(){define(function(e,n){function t(e,n,t,o,a){function i(e){h.play(),document.body.removeEventListener("touchend",i,!1)}function d(){"ontouchend"in document&&document.body.addEventListener("touchend",i,!1)}function c(e,n){var t="click";"ontouchend"in document&&(t="touchend"),e.addEventListener(t,n,!1)}function u(e){y?p():l(),e.stopPropagation(),e.preventDefault()}function s(e){p()}function l(){y||(y=!0,h.play(),m.style.display="none",g.style.display="block")}function p(){y&&(y=!1,h.pause(),m.style.display="block",g.style.display="none",document.body.removeEventListener("touchend",i,!1))}var r,m,g,h,y,f;y=!1,a=a||{},r=document.createElement("div"),r.classList.add("lg-component-audio"),m=document.createElement("div"),m.classList.add("lg-component-audio-play"),r.appendChild(m),g=document.createElement("div"),g.classList.add("lg-component-audio-pause"),r.appendChild(g),h=document.createElement("audio"),h.classList.add("lg-component-audio-core"),r.appendChild(h),"page"!==a.stageType&&(f=!0,h.preload="auto"),c(r,u),h.onended=s;var v={},E={name:"\u97f3\u9891",attributeChange:function(e){for(var n in e)v[n]=e[n];e.url&&(this.name=e.url.split("/").pop()),this._render(e)},sizeChange:function(e,n){r.style.width=e+"px",r.style.height=n+"px"},pageChange:function(e,n){"page"===a.stageType&&(a.stage===e?(f||(h.preload="auto",f=!0),"true"!==v.auto||a.inEditor||(l(),d())):p())},_render:function(e){/^https?/.test(e.url)&&(h.src=e.url,this._seticon(m,e.pauseicon),this._seticon(g,e.playicon),"true"===e.loop&&(h.loop=!0),"true"!==e.auto||"page"===a.stageType||a.inEditor||(l(),d()))},_seticon:function(e,n){return n?void(e.style.backgroundImage="url("+n+")"):void(e.style.backgroundImage="")},"interface":[{id:"play",act:l,name:"\u64ad\u653e"},{id:"pause",act:p,name:"\u6682\u505c"}]};return E.attributeChange(n),E.sizeChange(t,o),e.appendChild(r),E}n.create=t})}();
require("16").components.audio = require("19");})()